(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{454:function(t,e,r){var content=r(497);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(126).default)("72f34e4e",content,!0,{sourceMap:!1})},496:function(t,e,r){"use strict";r(454)},497:function(t,e,r){var n=r(125)(!1);n.push([t.i,".div-block-95.wide{width:100%}.w-select.sel,.w-select.select-field-3.sel{min-width:48%;margin-right:0;margin-bottom:10px}",""]),t.exports=n},516:function(t,e,r){"use strict";r.r(e);r(33);var n=r(10),l=(r(43),r(20),r(40),r(75),r(45),r(393)),o={data:function(){return{quoteArray:[],quoteError:"",quoteSuccess:"",quoteErrorShow:!1,quoteSuccessShow:!1,tempQuoteRating:"",materialList:[],materials:{material:"",rate:"",quantity:""},tempEditIndex:"",tempEditing:!1,mainEditIndex:"",mainEditingId:"",mainEditing:!1,goodsArray:[],ratingArray:[],tempGoods:"Select Material",tempRating:"Select KVA",showRating:!1,showGoods:!1,errorShow:!1,successShow:!1,error:"",success:"",galleryList:[],galleryArray:[],galleryError:"",gallerySuccess:"",galleryErrorShow:!1,gallerySuccessShow:!1,galleryState:!1}},methods:{filterGoods:function(t){this.materials.material=t.name,this.materials.rate=t.sellingPrice,this.tempGoods=t.name},editTempQuote:function(t,e){this.materials.quantity=t.quantity,this.materials.rate=t.rate,this.materials.material=t.material,this.tempGoods=t.material,this.tempEditing=!0,this.tempEditIndex=e},setMainEdit:function(t,e){this.materialList=t.materials,this.tempQuoteRating=t.rating,this.mainEditIndex=e,this.mainEditing=!0,this.mainEditingId=t._id},setQuotes:function(){if(this.tempEditing)this.materialList[this.tempEditIndex]=JSON.parse(JSON.stringify(this.materials)),this.clearMaterials();else{var t=(new l.l).checkMaterial(this.materials.material).checkQuantity(this.materials.quantity);"success"!=t.checkErrors()?this.showQuoteError(t.checkErrors()):(this.materialList.push(JSON.parse(JSON.stringify(this.materials))),this.clearMaterials())}},clearQuote:function(){this.clearMaterials(),this.tempQuoteRating="",this.materialList=[],this.mainEditIndex="",this.mainEditing=!1,this.mainEditingId=quote._id},clearMaterials:function(){this.materials.material="",this.materials.rate="",this.materials.quantity="",this.tempGoods="Select Material",this.tempRating="Select KVA",this.tempEditIndex="",this.tempEditing=!1},fillRatingArray:function(){var t=this;this.ratingArray=[],this.goodsArray.forEach((function(e){"Inverter"==e.subType&&t.ratingArray.push(e.name)}))},showQuoteSuccess:function(t){var e=this;this.quoteSuccess=t,this.quoteSuccessShow=!0,setTimeout((function(){e.quoteSuccessShow=!1}),5e3)},showQuoteError:function(t){var e=this;this.quoteError=t,this.quoteErrorShow=!0,setTimeout((function(){e.quoteErrorShow=!1}),5e3)},processQuoteData:function(){var t=(new l.k).checkKVA(this.tempQuoteRating).checkMaterial(this.materialList);if("success"!=t.checkErrors())this.showQuoteError(t.checkErrors());else{var form={rating:this.tempQuoteRating,materials:this.materialList};this.mainEditing?this.editQuote(form):this.createQuote(form)}},getAllGoods:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.$get("/goods",{headers:{authorization:"Bearer ".concat(t.token)}});case 3:return r=e.sent,e.next=6,r.data.goods;case 6:t.goodsArray=e.sent,t.fillRatingArray(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},createQuote:function(form){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.$post("/settings/quote/quotes",form,{headers:{authorization:"Bearer ".concat(t.token)}});case 3:e.sent,t.getQuote(),t.clearQuote(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t.showQuoteError(e.t0.response.data.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},getQuote:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.$get("/settings/quote/quotes",{headers:{authorization:"Bearer ".concat(t.token)}});case 3:r=e.sent,t.quoteArray=r.data.quotes,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},editQuote:function(form){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.$patch("/settings/quote/quotes/".concat(t.mainEditingId),form,{headers:{authorization:"Bearer ".concat(t.token)}});case 3:t.getQuote(),t.clearQuote(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t.showQuoteError(e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},deleteQuote:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.$axios.$delete("/settings/quote/quotes/".concat(t),{headers:{authorization:"Bearer ".concat(e.token)}});case 3:e.getQuote(),e.clearQuote(),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),console.log(r.t0.response);case 10:case"end":return r.stop()}}),r,null,[[0,7]])})))()},clearGalleryState:function(){this.galleryList=[],this.editGalleryState=!1,this.editGalleryId=""},showGallerySuccess:function(t){var e=this;this.gallerySuccess=t,this.gallerySuccessShow=!0,setTimeout((function(){e.gallerySuccessShow=!1}),5e3)},showGalleryError:function(t){var e=this;this.galleryError=t,this.galleryErrorShow=!0,setTimeout((function(){e.galleryErrorShow=!1}),5e3)},setGalleryFiles:function(t){this.galleryList=t.target.files},processGalleryData:function(){var t=(new l.g).checkGallery(this.galleryList);if("success"!=t.checkErrors())this.showGalleryError(t.checkErrors());else{for(var e=new FormData,r=0,n=Object.keys(this.galleryList);r<n.length;r++){var i=n[r];e.append("gallery",this.galleryList[i])}this.createGallery(e)}},createGallery:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.$axios.$post("/settings/solar/gallery",t,{headers:{authorization:"Bearer ".concat(e.token)}});case 3:r.sent,e.getGallery(),e.showGallerySuccess("Gallery has been uploaded successfully"),e.clearGalleryState(),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),console.log(r.t0.response);case 12:case"end":return r.stop()}}),r,null,[[0,9]])})))()},getGallery:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.$get("/settings/solar/gallery",{headers:{authorization:"Bearer ".concat(t.token)}});case 3:r=e.sent,t.galleryArray=r.data.gallery,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},deleteGallery:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.$axios.$delete("/settings/solar/gallery/".concat(t),{headers:{authorization:"Bearer ".concat(e.token)}});case 3:e.getGallery(),r.next=9;break;case 6:r.prev=6,r.t0=r.catch(0),console.log(r.t0.response);case 9:case"end":return r.stop()}}),r,null,[[0,6]])})))()},getUserDetails:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=localStorage.getItem("user"),e.next=4,JSON.parse(r);case 4:return n=e.sent,e.next=7,n.token;case 7:return t.token=e.sent,e.next=10,n.data.user._id;case 10:t.id=e.sent,t.getGallery();case 12:case"end":return e.stop()}}),e)})))()}},mounted:function(){this.getUserDetails(),this.getQuote(),this.getAllGoods()}},c=(r(496),r(61)),component=Object(c.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"page-dropdown solar-set w-dropdown",attrs:{"data-hover":"false","data-delay":"0","data-w-id":"5461f1b7-bfbc-cb00-e20d-bdf154e679a5"}},[e("div",{staticClass:"dropdown-toggle-3 w-dropdown-toggle",on:{click:function(e){t.galleryState=!t.galleryState}}},[e("div",{staticClass:"w-icon-dropdown-toggle"}),t._v(" "),e("div",{staticClass:"subheading gray tin"},[t._v("Solar Page Settings")])]),t._v(" "),t.galleryState?e("nav",{staticClass:"dropdown-list-3 w-dropdown-list"},[e("div",{staticClass:"admin-section"},[t._m(0),t._v(" "),e("div",{staticClass:"admin-section-body"},[e("div",{staticClass:"overflow"},[e("div",{staticClass:"tb-holder"},[e("table",{staticClass:"user-tb"},[t._m(1),t._v(" "),e("tbody",t._l(t.galleryArray,(function(n){return e("tr",{key:n._id,staticClass:"flex-tb"},[t._l(n.gallery,(function(t,r){return e("td",{key:r,staticClass:"all noPoint"},[e("div",{staticClass:"banner-sm"},[e("img",{staticClass:"responsiveImg",attrs:{src:"http://localhost:5000/uploads/".concat(t),alt:""}})])])})),t._v(" "),e("td",{staticClass:"all noPoint act"},[e("img",{staticClass:"sm",attrs:{src:r(358),loading:"lazy",alt:""},on:{click:function(e){return t.deleteGallery(n._id)}}})])],2)})),0)])])]),t._v(" "),e("div",{staticClass:"banner-form-wrapper w-form"},[e("div",{staticClass:"error-holder"},[e("transition",{attrs:{name:"fade"}},[t.galleryErrorShow?e("div",{staticClass:"w-form-fail"},[e("div",[t._v("\n                  "+t._s(t.galleryError)+"\n                ")])]):t._e()]),t._v(" "),e("transition",{attrs:{name:"fade"}},[t.gallerySuccessShow?e("div",{staticClass:"w-form-done"},[e("div",[t._v(t._s(t.gallerySuccess))])]):t._e()])],1),t._v(" "),e("div",{staticClass:"banner-form"},[e("div",{staticClass:"div-block-95 wide"},[e("label",{staticClass:"upload"},[e("div",{staticClass:"text-block-3"},[t._v("Select 6 Images")]),t._v(" "),e("img",{staticClass:"upload-icon",attrs:{src:r(383),loading:"lazy",alt:""}}),t._v(" "),e("input",{staticClass:"hideInput",attrs:{id:"receipt",type:"file",multiple:""},on:{change:function(e){return t.setGalleryFiles(e)}}})])]),t._v(" "),e("div",{staticClass:"btn-holder"},[e("input",{staticClass:"custom-btn blue w-button",attrs:{type:"submit",value:"Save","data-wait":"Please wait..."},on:{click:t.processGalleryData}}),t._v(" "),e("input",{staticClass:"custom-btn blue w-button",attrs:{type:"submit",value:"Cancel","data-wait":"Please wait..."},on:{click:t.clearGalleryState}})])])])])]),t._v(" "),e("div",{staticClass:"admin-section"},[t._m(2),t._v(" "),e("div",{staticClass:"admin-section-body"},[e("div",{staticClass:"overflow"},[e("div",{staticClass:"tb-holder"},[e("table",{staticClass:"user-tb"},[t._m(3),t._v(" "),e("tbody",t._l(t.quoteArray,(function(n,l){return e("tr",{key:l,staticClass:"flex-tb"},[e("td",{staticClass:"all noPoint"},[e("div",{staticClass:"custom-txt-sm gray"},[t._v(t._s(l+1))])]),t._v(" "),e("td",{staticClass:"all noPoint"},[e("div",{staticClass:"custom-txt-sm gray"},[t._v(t._s(n.rating))])]),t._v(" "),e("td",{staticClass:"all noPoint"},[e("table",{staticClass:"user-tb"},[t._m(4,!0),t._v(" "),e("tbody",t._l(n.materials,(function(r,n){return e("tr",{staticClass:"flex-tb"},[e("td",{staticClass:"all noPoint"},[e("div",{staticClass:"custom-txt-sm gray"},[t._v("\n                              "+t._s(r.material)+"\n                            ")])]),t._v(" "),e("td",{staticClass:"all noPoint"},[e("div",{staticClass:"custom-txt-sm gray"},[t._v("\n                              "+t._s(r.rate)+"\n                            ")])]),t._v(" "),e("td",{staticClass:"all noPoint"},[e("div",{staticClass:"custom-txt-sm gray"},[t._v("\n                              "+t._s(r.quantity)+"\n                            ")])]),t._v(" "),e("td",{staticClass:"all noPoint"},[e("div",{staticClass:"custom-txt-sm gray"},[t._v("\n                              "+t._s(r.quantity*r.rate)+"\n                            ")])])])})),0)])]),t._v(" "),e("td",{staticClass:"all"},[e("img",{staticClass:"sm",attrs:{src:r(362),loading:"lazy",alt:""},on:{click:function(e){return t.setMainEdit(n,l)}}}),t._v(" "),e("img",{staticClass:"sm",attrs:{src:r(358),loading:"lazy",alt:""},on:{click:function(e){return t.deleteQuote(n._id)}}})])])})),0)])])]),t._v(" "),e("div",{staticClass:"drawing w-form",staticStyle:{"flex-direction":"column","justify-content":"center"}},[e("table",{staticClass:"user-tb"},[t._m(5),t._v(" "),e("tbody",[e("tr",{staticClass:"flex-tb"},[e("td",{staticClass:"all"},[e("div",{staticClass:"subheading small"},[t._v(t._s(t.tempQuoteRating))])]),t._v(" "),e("td",{staticClass:"all noPoint",attrs:{colspan:"4"}},[e("table",[t._m(6),t._v(" "),e("tbody",t._l(t.materialList,(function(r,n){return e("tr",{on:{click:function(e){return t.editTempQuote(r,n)}}},[e("td",{staticClass:"all"},[e("div",{staticClass:"custom-txt-sm gray"},[t._v("\n                            "+t._s(r.material)+"\n                          ")])]),t._v(" "),e("td",{staticClass:"all"},[e("div",{staticClass:"custom-txt-sm gray"},[t._v("\n                            "+t._s(r.rate)+"\n                          ")])]),t._v(" "),e("td",{staticClass:"all"},[e("div",{staticClass:"custom-txt-sm gray"},[t._v("\n                            "+t._s(r.quantity)+"\n                          ")])]),t._v(" "),e("td",{staticClass:"all"},[e("div",{staticClass:"custom-txt-sm gray"},[t._v("\n                            "+t._s(r.quantity*r.rate)+"\n                          ")])])])})),0)])])])])]),t._v(" "),e("div",{staticClass:"form-2",staticStyle:{margin:"20px auto"}},[e("transition",{attrs:{name:"fade"}},[t.quoteErrorShow?e("div",{staticClass:"w-form-fail"},[e("div",[t._v("\n                  "+t._s(t.quoteError)+"\n                ")])]):t._e()]),t._v(" "),e("transition",{attrs:{name:"fade"}},[t.quoteSuccessShow?e("div",{staticClass:"w-form-done"},[e("div",[t._v(t._s(t.quoteSuccess))])]):t._e()]),t._v(" "),e("div",{staticClass:"div-block-93",staticStyle:{"flex-wrap":"wrap"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempQuoteRating,expression:"tempQuoteRating"}],staticClass:"house-inp des w-input",attrs:{type:"number",maxlength:"256",placeholder:"KVA Rating",required:""},domProps:{value:t.tempQuoteRating},on:{input:function(e){e.target.composing||(t.tempQuoteRating=e.target.value)}}}),t._v(" "),e("div",{staticClass:"w-select select-field-3 sel",on:{click:function(e){t.showGoods=!t.showGoods}}},[e("div",{staticClass:"placeholder"},[t._v(t._s(t.tempGoods))]),t._v(" "),t.showGoods?e("div",{staticClass:"options-container"},t._l(t.goodsArray,(function(r){return e("div",{key:r._id,staticClass:"options",on:{click:function(e){return t.filterGoods(r)}}},[t._v("\n                    "+t._s(r.name)+"\n                  ")])})),0):t._e()]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.materials.quantity,expression:"materials.quantity"}],staticClass:"house-inp des w-input",attrs:{type:"number",maxlength:"256",placeholder:"Quantity",required:""},domProps:{value:t.materials.quantity},on:{input:function(e){e.target.composing||t.$set(t.materials,"quantity",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"btn-holder"},[e("input",{staticClass:"custom-btn blue space w-button",attrs:{type:"button",value:"Enter","data-wait":"Please wait..."},on:{click:t.setQuotes}}),t._v(" "),e("input",{staticClass:"custom-btn blue space w-button",attrs:{type:"button",value:"Save","data-wait":"Please wait..."},on:{click:t.processQuoteData}}),t._v(" "),e("input",{staticClass:"custom-btn blue space w-button",attrs:{type:"submit",value:"Close","data-wait":"Please wait..."}})])],1)])])])]):t._e()])}),[function(){var t=this._self._c;return t("div",{staticClass:"admin-section-head"},[t("h2",{staticClass:"open-title small"},[this._v("LATEST WORK")])])},function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",{staticClass:"all"},[e("div",{staticClass:"subheading small"},[t._v("Image 1")])]),t._v(" "),e("th",{staticClass:"all"},[e("div",{staticClass:"subheading small"},[t._v("Image 2")])]),t._v(" "),e("th",{staticClass:"all"},[e("div",{staticClass:"subheading small"},[t._v("Image 3")])]),t._v(" "),e("th",{staticClass:"all"},[e("div",{staticClass:"subheading small"},[t._v("Image 4")])]),t._v(" "),e("th",{staticClass:"all"},[e("div",{staticClass:"subheading small"},[t._v("Image 5")])]),t._v(" "),e("th",{staticClass:"all"},[e("div",{staticClass:"subheading small"},[t._v("Image 6")])]),t._v(" "),e("th",{staticClass:"all"},[e("div",{staticClass:"subheading small"},[t._v("Action")])])])])},function(){var t=this._self._c;return t("div",{staticClass:"admin-section-head"},[t("h2",{staticClass:"open-title small"},[this._v("SOLAR QUOTATION")])])},function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",{staticClass:"all"},[e("div",{staticClass:"subheading small"},[t._v("S/N")])]),t._v(" "),e("th",{staticClass:"all"},[e("div",{staticClass:"subheading small"},[t._v("RATING")])]),t._v(" "),e("th",{staticClass:"all"},[e("div",{staticClass:"subheading small"},[t._v("ITEMS")])]),t._v(" "),e("th",{staticClass:"all"},[e("div",{staticClass:"subheading small"},[t._v("Action")])])])])},function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",{staticClass:"all"},[e("div",{staticClass:"subheading small"},[t._v("Material")])]),t._v(" "),e("th",{staticClass:"all"},[e("div",{staticClass:"subheading small"},[t._v("Rate")])]),t._v(" "),e("th",{staticClass:"all"},[e("div",{staticClass:"subheading small"},[t._v("Quantity")])]),t._v(" "),e("th",{staticClass:"all"},[e("div",{staticClass:"subheading small"},[t._v("Total")])])])])},function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",{staticClass:"all"},[e("div",{staticClass:"subheading small"},[t._v("KVA Rating")])]),t._v(" "),e("th",{staticClass:"all",attrs:{colspan:"4"}},[e("div",{staticClass:"subheading small"},[t._v("Materials")])])])])},function(){var t=this,e=t._self._c;return e("thead",[e("th",{staticClass:"all"},[e("div",{staticClass:"subheading small"},[t._v("Material")])]),t._v(" "),e("th",{staticClass:"all"},[e("div",{staticClass:"subheading small"},[t._v("Rate")])]),t._v(" "),e("th",{staticClass:"all"},[e("div",{staticClass:"subheading small"},[t._v("Quantity")])]),t._v(" "),e("th",{staticClass:"all"},[e("div",{staticClass:"subheading small"},[t._v("Total")])])])}],!1,null,null,null);e.default=component.exports}}]);