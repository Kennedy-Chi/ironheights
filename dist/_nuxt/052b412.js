(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{453:function(t,e,r){var content=r(495);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(126).default)("f937dcb2",content,!0,{sourceMap:!1})},494:function(t,e,r){"use strict";r(453)},495:function(t,e,r){var l=r(125)(!1);l.push([t.i,".w-form-error,.w-form-success{padding:10px;border-radius:3px;color:#fff;text-align:center;margin-bottom:10px;letter-spacing:1px}.w-form-error{background:#fe5454}.w-form-success{background:#1cfd1c}@media screen and (max-width:470px){.house-inp.sel{margin-right:0;margin-bottom:10px}textarea.description{height:120px;min-width:100%}.textarea-4{width:100%}}.text-block-3{font-weight:400}textarea.description{height:120px;width:48%;resize:none}.textarea-4{min-height:10vh}.banner-form-wrapper.w-form{flex-direction:column;justify-content:center;width:100%}.banner-form{margin:0 auto}.del{margin-right:10px}.custom-btn.blue.w-button{margin:0 5px}.error-holder{display:flex;justify-content:center;width:100%}.fade-enter{opacity:0}.fade-enter-to{opacity:1}.fade-enter-active{transition:all 1s ease}",""]),t.exports=l},515:function(t,e,r){"use strict";r.r(e);r(34),r(46),r(53),r(44),r(20);var l=r(10),n=(r(43),r(75),r(45),r(40),r(47),r(393)),o={data:function(){return{videos:[],videoImage:null,video:"",videoDescription:"",videoError:"",videoSuccess:"",videoErrorShow:!1,videoSuccessShow:!1,editVideoState:!1,editVideoId:"",galleryType:"Gallery Type",galleryCat:{default:"Gallery Type",first:"Solar",second:"Housing",third:"Camera"},galleryTitle:"",galleryList:[],galleryMsg:"",galleryWwd:"",galleryFiles:[],galleryArray:[],listItem:"",galleryError:"",gallerySuccess:"",galleryErrorShow:!1,gallerySuccessShow:!1,editGalleryState:!1,editGalleryId:"",homeState:!1}},methods:{toggleHome:function(){},setGallery:function(t){this.galleryFiles=t.target.files},clearGalleryState:function(){this.galleryList="",this.galleryType="Gallery Type",this.galleryMsg="",this.galleryWwd="",this.galleryFiles="",this.editGalleryState=!1,this.editGalleryId=""},showGallerySuccess:function(t){var e=this;this.gallerySuccess=t,this.gallerySuccessShow=!0,setTimeout((function(){e.gallerySuccessShow=!1}),5e3)},showGalleryError:function(t){var e=this;this.galleryError=t,this.galleryErrorShow=!0,setTimeout((function(){e.galleryErrorShow=!1}),5e3)},addList:function(){this.galleryList.push(this.listItem),this.listItem=""},setEditGallery:function(t){this.galleryFiles=t.gallery,this.galleryList=t.list,this.galleryWwd=t.Wwd,this.galleryMsg=t.Msg,this.galleryType=t.type,this.galleryTitle=t.title,this.editGalleryState=!0,this.editGalleryId=t._id},processGalleryData:function(){var t=(new n.c).checkType(this.galleryType).checkTitle(this.galleryTitle).checkMSG(this.galleryMsg).checkWWD(this.galleryWwd).checkList(this.galleryList).checkGallery(this.galleryFiles,this.editGalleryState);if("success"!=t.checkErrors())this.showGalleryError(t.checkErrors());else{for(var e=new FormData,r=0,l=Object.keys(this.galleryFiles);r<l.length;r++){var i=l[r];e.append("gallery",this.galleryFiles[i])}this.galleryList.forEach((function(t){e.append("list",t)})),e.append("type",this.galleryType),e.append("title",this.galleryTitle),e.append("message",this.galleryMsg),e.append("whatWeDo",this.galleryWwd),1==this.editGalleryState?this.updateGallery(e):this.createGallery(e)}},updateGallery:function(t){var e=this;return Object(l.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.$axios.$patch("/settings/home/gallery/".concat(e.editGalleryId),t,{headers:{authorization:"Bearer ".concat(e.token)}});case 3:r.sent,e.clearGalleryState(),e.getGallery(),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),console.log(r.t0.response);case 11:case"end":return r.stop()}}),r,null,[[0,8]])})))()},createGallery:function(t){var e=this;return Object(l.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.$axios.$post("/settings/home/gallery",t,{headers:{authorization:"Bearer ".concat(e.token)}});case 3:r.sent,e.getGallery(),e.showGallerySuccess("Gallery has been uploaded successfully"),e.clearGalleryState(),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),console.log(r.t0.response);case 12:case"end":return r.stop()}}),r,null,[[0,9]])})))()},getGallery:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.$get("/settings/home/gallery",{headers:{authorization:"Bearer ".concat(t.token)}});case 3:r=e.sent,t.galleryArray=r.data.gallery,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},deleteGallery:function(t){var e=this;return Object(l.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.$axios.$delete("/settings/home/gallery/".concat(t),{headers:{authorization:"Bearer ".concat(e.token)}});case 3:e.getGallery(),r.next=9;break;case 6:r.prev=6,r.t0=r.catch(0),console.log(r.t0.response);case 9:case"end":return r.stop()}}),r,null,[[0,6]])})))()},clearVideoState:function(){this.videoImage=null,this.videoDescription="",this.editVideoState=!1,this.editVideoId=""},setThumbnail:function(t){this.videoImage=t.target.files[0]},setVideo:function(t){this.video=t.target.files[0]},showVideoSuccess:function(t){var e=this;this.videoSuccess=t,this.videoSuccessShow=!0,setTimeout((function(){e.videoSuccessShow=!1}),5e3)},showVideoError:function(t){var e=this;this.videoError=t,this.videoErrorShow=!0,setTimeout((function(){e.videoErrorShow=!1}),5e3)},getName:function(t){return t.length<=10?t:"".concat(t.slice(0,9),"...")},setEditVideo:function(video){this.videoImage=video.thumbnail[0],this.video=video.video[0],this.videoDescription=video.description,this.editVideoState=!0,this.editVideoId=video._id},processVideoData:function(){var t=(new n.m).checkThumbnail(this.videoImage).checkVideo(this.video).checkDescription(this.videoDescription);if("success"!=t.checkErrors())this.showVideoError(t.checkErrors());else{var e=new FormData;e.append("description",this.videoDescription),e.append("thumbnail",this.videoImage),e.append("video",this.video),1==this.editVideoState?this.updateVideo(e):this.createVideo(e)}},videoStatus:function(t,e){var r=this;return Object(l.a)(regeneratorRuntime.mark((function l(){return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,l.next=3,r.$axios.$patch("/settings/home/videoStatus/".concat(t),{status:e},{headers:{authorization:"Bearer ".concat(r.token)}});case 3:l.sent,r.getVideos(),l.next=10;break;case 7:l.prev=7,l.t0=l.catch(0),console.log(l.t0.response);case 10:case"end":return l.stop()}}),l,null,[[0,7]])})))()},updateVideo:function(t){var e=this;return Object(l.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.$axios.$patch("/settings/home/video/".concat(e.editVideoId),t,{headers:{authorization:"Bearer ".concat(e.token)}});case 3:r.sent,e.clearVideoState(),e.getVideos(),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),console.log(r.t0.response);case 11:case"end":return r.stop()}}),r,null,[[0,8]])})))()},createVideo:function(t){var e=this;return Object(l.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.$axios.$post("/settings/home/video",t,{headers:{authorization:"Bearer ".concat(e.token)}});case 3:r.sent,e.getVideos(),e.showVideoSuccess("Video has been uploaded successfully"),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),console.log(r.t0.response);case 11:case"end":return r.stop()}}),r,null,[[0,8]])})))()},getVideos:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.$get("/settings/home/video",{headers:{authorization:"Bearer ".concat(t.token)}});case 3:r=e.sent,t.videos=r.data.videos,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},deleteVideo:function(t){var e=this;return Object(l.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.$axios.$delete("/settings/home/video/".concat(t),{headers:{authorization:"Bearer ".concat(e.token)}});case 3:e.getVideos(),r.next=9;break;case 6:r.prev=6,r.t0=r.catch(0),console.log(r.t0.response);case 9:case"end":return r.stop()}}),r,null,[[0,6]])})))()},getUserDetails:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){var r,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=localStorage.getItem("user"),e.next=4,JSON.parse(r);case 4:return l=e.sent,e.next=7,l.token;case 7:return t.token=e.sent,e.next=10,l.data.user._id;case 10:t.id=e.sent,t.getGallery(),t.getVideos();case 13:case"end":return e.stop()}}),e)})))()}},mounted:function(){this.getUserDetails()}},c=(r(494),r(61)),component=Object(c.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"page-dropdown w-dropdown",attrs:{"data-hover":"false","data-delay":"0","data-w-id":"305db5ed-bd56-1a0d-c2dd-4cb4010ada8b"}},[e("div",{staticClass:"dropdown-toggle-3 w-dropdown-toggle",on:{click:function(e){t.homeState=!t.homeState}}},[e("div",{staticClass:"w-icon-dropdown-toggle"}),t._v(" "),e("div",{staticClass:"subheading gray tin"},[t._v("Home Page Settings")])]),t._v(" "),t.homeState?e("nav",{staticClass:"dropdown-list-3 w-dropdown-list"},[e("div",{staticClass:"admin-section"},[t._m(0),t._v(" "),e("div",{staticClass:"admin-section-body"},[e("div",{staticClass:"overflow"},[e("div",{staticClass:"tb-holder"},[e("table",{staticClass:"user-tb"},[t._m(1),t._v(" "),e("tbody",t._l(t.videos,(function(video,l){return e("tr",{key:video._id,staticClass:"flex-tb"},[e("td",{staticClass:"all noPoint"},[e("div",{staticClass:"custom-txt-sm gray"},[t._v(t._s(l+1))])]),t._v(" "),e("td",{staticClass:"all noPoint"},[e("div",{staticClass:"banner-sm"},[e("img",{staticClass:"responsiveImg",attrs:{src:"http://localhost:5000/uploads/".concat(video.thumbnail[0].filename),alt:""}})])]),t._v(" "),e("td",{staticClass:"all noPoint"},[e("div",{staticClass:"custom-txt-sm gray"},[e("a",{attrs:{target:"_blank",href:"http://localhost:5000/uploads/".concat(video.video[0].filename),download:""}},[t._v(t._s(t.getName(video.video[0].filename)))])])]),t._v(" "),e("td",{staticClass:"all noPoint"},[e("div",{staticClass:"custom-txt-sm gray"},[t._v("\n                      "+t._s(video.description)+"\n                    ")])]),t._v(" "),e("td",{staticClass:"all noPoint"},[e("div",{staticClass:"custom-txt-sm gray"},[video.status?e("span",{staticClass:"draft app w-button",on:{click:function(e){return t.videoStatus(video._id,!1)}}},[t._v("Approved")]):e("span",{staticClass:"draft w-button",on:{click:function(e){return t.videoStatus(video._id,!0)}}},[t._v("Draft")])])]),t._v(" "),e("td",{staticClass:"all noPoint act"},[e("img",{staticClass:"sm del",attrs:{src:r(362),loading:"lazy",alt:""},on:{click:function(e){return t.setEditVideo(video)}}}),e("img",{staticClass:"sm",attrs:{src:r(358),loading:"lazy",alt:""},on:{click:function(e){return t.deleteVideo(video._id)}}})])])})),0)])])]),t._v(" "),e("div",{staticClass:"banner-form-wrapper w-form"},[e("div",{staticClass:"error-holder"},[e("transition",{attrs:{name:"fade"}},[t.videoErrorShow?e("div",{staticClass:"w-form-fail"},[e("div",[t._v("\n                  "+t._s(t.videoError)+"\n                ")])]):t._e()]),t._v(" "),e("transition",{attrs:{name:"fade"}},[t.videoSuccessShow?e("div",{staticClass:"w-form-done"},[e("div",[t._v(t._s(t.videoSuccess))])]):t._e()])],1),t._v(" "),e("div",{staticClass:"banner-form",attrs:{method:"get"}},[e("div",{staticClass:"div-block-95"},[e("label",{staticClass:"upload"},[e("div",{staticClass:"text-block-3"},[t._v("Upload Thumbnail")]),t._v(" "),e("img",{staticClass:"upload-icon",attrs:{src:r(383),loading:"lazy",alt:""}}),t._v(" "),e("input",{staticClass:"hideInput",attrs:{id:"receipt",type:"file"},on:{change:function(e){return t.setThumbnail(e)}}})])]),t._v(" "),e("div",{staticClass:"div-block-95"},[e("label",{staticClass:"upload"},[e("div",{staticClass:"text-block-3"},[t._v("Upload Video")]),t._v(" "),e("img",{staticClass:"upload-icon",attrs:{src:r(383),loading:"lazy",alt:""}}),t._v(" "),e("input",{staticClass:"hideInput",attrs:{id:"receipt",type:"file"},on:{change:function(e){return t.setVideo(e)}}})])]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.videoDescription,expression:"videoDescription"}],staticClass:"textarea-4 w-input",attrs:{placeholder:"Video description",maxlength:"5000",required:""},domProps:{value:t.videoDescription},on:{input:function(e){e.target.composing||(t.videoDescription=e.target.value)}}}),t._v(" "),e("div",{staticClass:"btn-holder"},[e("input",{staticClass:"custom-btn blue w-button",attrs:{type:"submit",value:"Save","data-wait":"Please wait..."},on:{click:t.processVideoData}}),t._v(" "),e("input",{staticClass:"custom-btn blue w-button",attrs:{type:"submit",value:"Cancel","data-wait":"Please wait..."},on:{click:t.clearVideoState}})])])])])]),t._v(" "),e("div",{staticClass:"admin-section"},[t._m(2),t._v(" "),e("div",{staticClass:"admin-section-body"},[e("div",{staticClass:"overflow"},[e("div",{staticClass:"tb-holder"},[e("table",{staticClass:"user-tb"},[t._m(3),t._v(" "),e("tbody",t._l(t.galleryArray,(function(l,n){return e("tr",{key:l._id,staticClass:"flex-tb"},[e("td",{staticClass:"all noPoint"},[e("div",{staticClass:"custom-txt-sm gray"},[t._v(t._s(n+1))])]),t._v(" "),e("td",{staticClass:"all noPoint"},[e("div",{staticClass:"custom-txt-sm gray"},[t._v("\n                      "+t._s(l.type)+"\n                    ")])]),t._v(" "),e("td",{staticClass:"all noPoint"},[e("div",{staticClass:"custom-txt-sm gray"},[t._v("\n                      "+t._s(l.title)+"\n                    ")])]),t._v(" "),e("td",{staticClass:"all noPoint"},[e("div",{staticClass:"custom-txt-sm gray"},[t._v("\n                      "+t._s(l.Msg)+"\n                    ")])]),t._v(" "),e("td",{staticClass:"all noPoint"},[e("div",{staticClass:"custom-txt-sm gray"},[t._v("\n                      "+t._s(l.Wwd)+"\n                    ")])]),t._v(" "),e("td",{staticClass:"all noPoint"},[e("div",{staticClass:"custom-txt-sm gray"},t._l(l.list,(function(r,l){return e("div",{key:l},[t._v("\n                        "+t._s(r)+"\n                      ")])})),0)]),t._v(" "),e("td",{staticClass:"all noPoint act"},[e("img",{staticClass:"sm del",attrs:{src:r(362),loading:"lazy",alt:""},on:{click:function(e){return t.setEditGallery(l)}}}),e("img",{staticClass:"sm",attrs:{src:r(358),loading:"lazy",alt:""},on:{click:function(e){return t.deleteGallery(l._id)}}})])])})),0)])])]),t._v(" "),e("div",{staticClass:"banner-form-wrapper w-form"},[e("div",{staticClass:"error-holder"},[e("transition",{attrs:{name:"fade"}},[t.galleryErrorShow?e("div",{staticClass:"w-form-error"},[t._v("\n                "+t._s(t.galleryError)+"\n              ")]):t._e()]),t._v(" "),e("transition",{attrs:{name:"fade"}},[t.gallerySuccessShow?e("div",{staticClass:"w-form-success"},[e("div",[t._v(t._s(t.gallerySuccess))])]):t._e()])],1),t._v(" "),e("div",{staticClass:"banner-form",attrs:{method:"get"}},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.galleryType,expression:"galleryType"}],staticClass:"house-inp sel w-select",on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.galleryType=e.target.multiple?r:r[0]}}},t._l(t.galleryCat,(function(r,l){return e("option",{key:l,domProps:{value:r}},[t._v("\n                "+t._s(r)+"\n              ")])})),0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.galleryTitle,expression:"galleryTitle"}],staticClass:"house-inp des w-input",attrs:{placeholder:"Title",type:"text",min:"0",maxlength:"256",required:"true"},domProps:{value:t.galleryTitle},on:{input:function(e){e.target.composing||(t.galleryTitle=e.target.value)}}}),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.galleryMsg,expression:"galleryMsg"}],staticClass:"textarea-4 w-input description",attrs:{placeholder:"Brief message",maxlength:"5000",required:""},domProps:{value:t.galleryMsg},on:{input:function(e){e.target.composing||(t.galleryMsg=e.target.value)}}}),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.galleryWwd,expression:"galleryWwd"}],staticClass:"textarea-4 w-input description",attrs:{placeholder:"What we do",maxlength:"5000",required:""},domProps:{value:t.galleryWwd},on:{input:function(e){e.target.composing||(t.galleryWwd=e.target.value)}}}),t._v(" "),e("ul",{staticClass:"service-list top listing w-list-unstyled",attrs:{role:"list"}},t._l(t.galleryList,(function(r,l){return e("li",{key:l,staticClass:"each-list"},[e("div",{staticClass:"list-indicator yellow"},[e("div",{staticClass:"custom-txt-sm white"},[t._v(t._s(l+1))])]),t._v(" "),e("div",{staticClass:"custom-txt-sm gray"},[t._v("\n                  "+t._s(r)+"\n                ")])])})),0),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.listItem,expression:"listItem"}],staticClass:"house-inp des w-input",attrs:{placeholder:"Press Enter to add to list",type:"text",min:"0",maxlength:"256",required:"true"},domProps:{value:t.listItem},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addList.apply(null,arguments)},input:function(e){e.target.composing||(t.listItem=e.target.value)}}}),t._v(" "),e("div",{staticClass:"div-block-95"},[e("label",{staticClass:"upload"},[e("div",{staticClass:"text-block-3"},[t._v("Upload Thumbnail")]),t._v(" "),e("img",{staticClass:"upload-icon",attrs:{src:r(383),loading:"lazy",alt:""}}),t._v(" "),e("input",{staticClass:"hideInput",attrs:{id:"receipt",type:"file",multiple:""},on:{change:function(e){return t.setGallery(e)}}})])]),t._v(" "),e("div",{staticClass:"btn-holder"},[e("input",{staticClass:"custom-btn blue w-button",attrs:{type:"submit",value:"Save","data-wait":"Please wait..."},on:{click:t.processGalleryData}}),t._v(" "),e("input",{staticClass:"custom-btn blue w-button",attrs:{type:"submit",value:"Cancel","data-wait":"Please wait..."},on:{click:t.clearGalleryState}})])])])])])]):t._e()])}),[function(){var t=this._self._c;return t("div",{staticClass:"admin-section-head"},[t("h2",{staticClass:"open-title small"},[this._v("PROJECT VIDEOS")])])},function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",{staticClass:"all"},[e("div",{staticClass:"subheading small"},[t._v("S/N")])]),t._v(" "),e("th",{staticClass:"all"},[e("div",{staticClass:"subheading small"},[t._v("Thumbnail")])]),t._v(" "),e("th",{staticClass:"all"},[e("div",{staticClass:"subheading small"},[t._v("video")])]),t._v(" "),e("th",{staticClass:"all"},[e("div",{staticClass:"subheading small"},[t._v("Description")])]),t._v(" "),e("th",{staticClass:"all"},[e("div",{staticClass:"subheading small"},[t._v("Status")])]),t._v(" "),e("th",{staticClass:"all"},[e("div",{staticClass:"subheading small"},[t._v("Action")])])])])},function(){var t=this._self._c;return t("div",{staticClass:"admin-section-head"},[t("h2",{staticClass:"open-title small"},[this._v("GALLERY SETTINGS")])])},function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",{staticClass:"all"},[e("div",{staticClass:"subheading small"},[t._v("S/N")])]),t._v(" "),e("th",{staticClass:"all"},[e("div",{staticClass:"subheading small"},[t._v("Type")])]),t._v(" "),e("th",{staticClass:"all"},[e("div",{staticClass:"subheading small"},[t._v("Title")])]),t._v(" "),e("th",{staticClass:"all"},[e("div",{staticClass:"subheading small"},[t._v("Brief Message")])]),t._v(" "),e("th",{staticClass:"all"},[e("div",{staticClass:"subheading small"},[t._v("What we do")])]),t._v(" "),e("th",{staticClass:"all"},[e("div",{staticClass:"subheading small"},[t._v("List")])]),t._v(" "),e("th",{staticClass:"all"},[e("div",{staticClass:"subheading small"},[t._v("Action")])])])])}],!1,null,null,null);e.default=component.exports}}]);